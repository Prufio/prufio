var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(c){var e=0;return function(){return e<c.length?{done:!1,value:c[e++]}:{done:!0}}};$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};$jscomp.makeIterator=function(c){var e="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return e?e.call(c):$jscomp.arrayIterator(c)};
$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,e,h){c!=Array.prototype&&c!=Object.prototype&&(c[e]=h.value)};
$jscomp.polyfill=function(c,e,h,k){if(e){h=$jscomp.global;c=c.split(".");for(k=0;k<c.length-1;k++){var d=c[k];d in h||(h[d]={});h=h[d]}c=c[c.length-1];k=h[c];e=e(k);e!=k&&null!=e&&$jscomp.defineProperty(h,c,{configurable:!0,writable:!0,value:e})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(c){function e(){this.batch_=null}function h(a){return a instanceof d?a:new d(function(b,g){b(a)})}if(c&&!$jscomp.FORCE_POLYFILL_PROMISE)return c;e.prototype.asyncExecute=function(a){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(a)};var k=$jscomp.global.setTimeout;e.prototype.asyncExecuteFunction=function(a){k(a,0)};e.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var g=a[b];a[b]=null;try{g()}catch(f){this.asyncThrow_(f)}}}this.batch_=null};e.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var d=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(g){b.reject(g)}};d.prototype.createResolveAndReject_=function(){function a(a){return function(f){g||(g=!0,a.call(b,f))}}var b=this,g=!1;
return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};d.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof d)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};d.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(g){this.reject_(g);return}"function"==typeof b?
this.settleSameAsThenable_(b,a):this.fulfill_(a)};d.prototype.reject_=function(a){this.settle_(2,a)};d.prototype.fulfill_=function(a){this.settle_(1,a)};d.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};d.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)m.asyncExecute(this.onSettledCallbacks_[a]);
this.onSettledCallbacks_=null}};var m=new e;d.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};d.prototype.settleSameAsThenable_=function(a,b){var g=this.createResolveAndReject_();try{a.call(b,g.resolve,g.reject)}catch(f){g.reject(f)}};d.prototype.then=function(a,b){function g(a,b){return"function"==typeof a?function(b){try{f(a(b))}catch(p){c(p)}}:b}var f,c,q=new d(function(a,b){f=a;c=b});this.callWhenSettled_(g(a,f),g(b,c));return q};
d.prototype.catch=function(a){return this.then(void 0,a)};d.prototype.callWhenSettled_=function(a,b){function g(){switch(f.state_){case 1:a(f.result_);break;case 2:b(f.result_);break;default:throw Error("Unexpected state: "+f.state_);}}var f=this;null==this.onSettledCallbacks_?m.asyncExecute(g):this.onSettledCallbacks_.push(g)};d.resolve=h;d.reject=function(a){return new d(function(b,g){g(a)})};d.race=function(a){return new d(function(b,g){for(var f=$jscomp.makeIterator(a),c=f.next();!c.done;c=f.next())h(c.value).callWhenSettled_(b,
g)})};d.all=function(a){var b=$jscomp.makeIterator(a),g=b.next();return g.done?h([]):new d(function(a,c){function f(b){return function(f){d[b]=f;e--;0==e&&a(d)}}var d=[],e=0;do d.push(void 0),e++,h(g.value).callWhenSettled_(f(d.length-1),c),g=b.next();while(!g.done)})};return d},"es6","es3");
$jscomp.polyfill("Array.from",function(c){return c?c:function(c,h,k){h=null!=h?h:function(a){return a};var d=[],e="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];if("function"==typeof e){c=e.call(c);for(var a=0;!(e=c.next()).done;)d.push(h.call(k,e.value,a++))}else for(e=c.length,a=0;a<e;a++)d.push(h.call(k,c[a],a));return d}},"es6","es3");
(function(){function c(a){return"false"===a?!1:(a=a.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(&\S+)?/))&&/youtu\.?be/g.test(a[3])?"youtube":a&&/vimeo/g.test(a[3])?"vimeo":!1}function e(a){return"false"===a?!1:(a=a.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(&\S+)?/))?a[6]:!1}function h(a,b){var c=
new XMLHttpRequest;c.open("GET","https://vimeo.com/api/v2/video/"+a+".json",!0);c.onreadystatechange=function(){if(4===this.readyState&&200<=this.status&&400>this.status){var a=JSON.parse(this.responseText);b(a[0].thumbnail_large)}};c.send();c=null}var k=document.querySelector("html").classList.contains("is-builder"),d=function(a,b){var c=window.outerWidth;b=window.outerHeight;var f=a._opts.width/a._opts.height;var d=Math.ceil(c/f);d<b&&(d=b,c=Math.ceil(d*f));a.setSize(c,d)},m=function(){var a={};
return function(b){return new Promise(function(c,f){if(b in a)a[b]?c(a[b]):f("Preview image not found.");else{var d=document.createElement("img");d.addEventListener("load",function(d){d=d.target;if(120===(d.naturalWidth||d.width)){var e=d.src.split("/").pop();switch(e){case "maxresdefault.jpg":d.src=d.src.replace(e,"sddefault.jpg");break;case "sddefault.jpg":d.src=d.src.replace(e,"hqdefault.jpg");break;case "hqdefault.jpg":d.src=d.src.replace(e,"default.jpg");break;default:a[b]=null,f("Preview image not found.")}}else c(a[b]=
d.src)});d.setAttribute("src","https://img.youtube.com/vi/"+b+"/maxresdefault.jpg")}})}}();k||Array.from(document.body.children).filter(function(a){return!a.matches("style, script")}).forEach(function(a){a.addEventListener("add.cards",function(b){if(b.target.classList.contains("carousel")){var g=document.querySelector("html").classList.contains("desktop");b.target.querySelectorAll("[data-bg-video-slide]").forEach(function(a){var b=e(a.getAttribute("data-bg-video-slide"));if(b){var f=document.createElement("div");
f.classList.add("mbr-background-video-preview");f.style.display="none";f.style.backgroundSize="cover";f.style.backgroundPosition="center";a.querySelector(".container-slide").before(f);var l=c(a.getAttribute("data-bg-video-slide")),k=a.querySelectorAll(".mbr-overlay");if("youtube"===l){if(m(b).then(function(a){f.style.backgroundImage='url("'+a+'")';f.style.display="block"}),g&&window.YouTubePlayer&&!a.querySelectorAll(".playerBox").length){l=document.createElement("div");l.classList.add("mbr-background-video");
a.querySelector(".container-slide").before(l);var n={videoURL:b,containment:"self",showControls:!1,mute:!0,modestBranding:!0,autoplay:!0,controls:!1,origin:"*",iv_load_policy:!1,keyboard:!1,captions:!1,annotations:!1,related:!1};l.style.pointerEvents="none";l=new YouTubePlayer(l,n);l.load(b,!0);l.play();l.loadPlaylist();l.setLoop(!0);l.mute();k.length&&a.querySelectorAll(".YTPOverlay").forEach(function(a){a.style.opacity=k.style.opacity;a.style.backgroundColor=k.style.backgroundColor});d(l);a.querySelectorAll(".image_wrapper img").forEach(function(a){return a.style.opacity=
0});a.querySelectorAll(".image_wrapper .mbr-overlay").forEach(function(a){return a.style.opacity=0})}}else h(b,function(a){f.style.backgroundImage='url("'+a+'")';f.style.display="block"}),g&&window.vimeo&&!a.querySelectorAll(".playerBox").length&&(l=document.createElement("div"),l.classList.add("mbr-background-video"),a.querySelector(".container-slide").before(l),l=new Vimeo.Player("mbr-video-"+i,{id:b,width:"100%",height:"100%",loop:!0}),k.length&&a.querySelectorAll(".vimeo_player_overlay").forEach(function(a){a.style.opacity=
k.style.opacity;a.style.backgroundColor=k.style.backgroundColor}))}});b.target.querySelectorAll(".carousel-item iframe").forEach(function(a){a.style.transitionDuration="1000ms";a.style.transitionProperty="opacity"});["slide.bs.carousel","section.carousel"].forEach(function(b){a.addEventListener(b,function(a){a.target.querySelectorAll(".carousel-item.active .mb_YTPlayer").forEach(function(a){a.YTPPause()});a.target.querySelectorAll(".carousel-item.active .vimeo_player").forEach(function(a){a.v_pause()});
a.target.querySelectorAll(".carousel-item:not(.active) iframe").forEach(function(a){a.style.opacity=0})});a.addEventListener(b,function(a){a.target.querySelectorAll(".carousel-item.active .mb_YTPlayer").forEach(function(a){a.YTPPlay()});a.target.querySelectorAll(".carousel-item.active .vimeo_player").forEach(function(a){a.v_play()});a.target.querySelectorAll(".carousel-item.active iframe").forEach(function(a){a.dispatchEvent(new Event("resize"));a.style.opacity=1})})})}})})})();
